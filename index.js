!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.shftjs=t():e.shftjs=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2)}([function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a}));const o=function(e){const t=e._SHFTJS||{};return["drags","drops"].forEach(e=>{t[e]||(t[e]=new WeakMap)}),e._SHFTJS=t}(e),r=["bubbles","cancelable","composed","detail","view","altKey","ctrlKey","metaKey","shiftKey","button","buttons","clientX","clientY","movementX","movementY","relatedTarget","screenX","screenY"];function c(e,t={}){const n={};return r.forEach(t=>{n[t]=e[t]}),Object.assign(n,t)}function a(e,t,n={}){const o=new MouseEvent(t,n);return o.shftTarget=e,e.dispatchEvent(o),o}}).call(this,n(1))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.r(t);var o=n(0);const{drags:r,drops:c}=o.a;function a(e,t=0,n=1){return Math.max(t,Math.min(e,n))}function s(e,t){return!t||("string"==typeof t&&(t=[t]),t instanceof Array&&t.some(t=>e.matches(t)))}function u(e,t){const{drags:n,drops:r}=o.a;switch(t){case"drag":case"draggable":return n.has(e);case"drop":case"droppable":return r.has(e);default:return n.has(e)||r.has(e)}}function d(e,t){const{accepts:n,overlap:o}=c.get(e);return s(t,n)&&function(e,t){const{left:n,right:o,top:r,bottom:c,height:s,width:u}=e.getBoundingClientRect(),{left:d,right:i,top:f,bottom:l}=t.getBoundingClientRect();return a(Math.min(o,i)-Math.max(n,d),0,u)*a(Math.min(c,l)-Math.max(r,f),0,s)/(u*s)}(t,e)>o}const{drags:i}=o.a;function f(e){return t=>{const{onmousemove:n,onmouseup:r}=i.get(e);1===t.buttons&&(Object(o.b)(e,"dragstart",Object(o.c)(t)),document.addEventListener("mousemove",n),document.addEventListener("mouseup",r,{once:!0}))}}function l(e){return t=>{Object(o.b)(e,"drag",Object(o.c)(t))}}function m(e){return t=>{const{onmousemove:n}=i.get(e);Object(o.b)(e,"dragend",Object(o.c)(t)),document.removeEventListener("mousemove",n)}}const{drops:g}=o.a;function p(e){return t=>{if(!g.has(e))return;const n=t.shftTarget,{accepts:r,ondrag:c,ondragend:a}=g.get(e);s(n,r)&&(Object(o.b)(e,"dropopen",{relatedTarget:n}),n.addEventListener("drag",c),n.addEventListener("dragend",a,{once:!0}))}}function b(e){return t=>{const n=t.shftTarget,{accepts:r,content:c}=g.get(e);s(n,r)&&(d(e,n)?(c.has(n)||(c.add(n),Object(o.b)(e,"dragenter",Object(o.c)(t,{relatedTarget:n}))),Object(o.b)(e,"dragover",Object(o.c)(t,{relatedTarget:n}))):c.has(n)&&(c.delete(n),Object(o.b)(e,"dragleave",Object(o.c)(t,{relatedTarget:n}))))}}function v(e){return t=>{const n=t.shftTarget,{ondrag:r}=g.get(e);Object(o.b)(e,"dropclose",Object(o.c)(t,{relatedTarget:n})),n.removeEventListener("drag",r),d(e,n)&&Object(o.b)(e,"drop",Object(o.c)(t,{relatedTarget:n}))}}t.default={drag:function(e){if(u(e,"drag"))return;const t={onmousedown:f(e),onmousemove:l(e),onmouseup:m(e)};e.addEventListener("mousedown",t.onmousedown),i.set(e,t)},drop:function(e,t){if(u(e,"drop"))return;const{accepts:n,overlap:o}=Object.assign({accepts:null,overlap:.5},t||{}),r={content:new WeakSet,ondragstart:p(e),ondrag:b(e),ondragend:v(e),accepts:n,overlap:o};document.addEventListener("dragstart",r.ondragstart),g.set(e,r)},util:{clear:function(e){const{drags:t,drops:n}=o.a;if(t.has(e)){const{onmousedown:n,onmousemove:o,onmouseup:r}=t.get(e);e.removeEventListener("mousedown",n),document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r)}if(n.has(e)){const{ondragstart:t,ondrag:o,ondragend:r}=n.get(e);document.removeEventListener("dragstart",t),document.removeEventListener("drag",o),document.removeEventListener("dragend",r)}},defaultmove:function(e){const t=e.target;["absolute","relative"].includes(t.style.position)||(t.style.position="relative"),["left","top"].forEach(n=>{let o=parseFloat(t.style[n])||0;o+="left"===n?e.movementX:e.movementY,t.style[n]=`${o}px`})},is:u,matches:s},_GLOBAL:o.a}}])}));
//# sourceMappingURL=index.js.map